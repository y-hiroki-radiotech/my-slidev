# Slidev Error Catalog

過去のテストで検出されたエラーパターンと解決策の集約。
スライド作成時の参照用ドキュメント。

---

## 概要

このカタログは `/slide-test` スキルによって自動更新されます。
検出されたエラーパターンが蓄積され、将来のスライド作成時の参考になります。

**最終更新:** 2026-02-05
**総検出数:** 2

---

## エラーパターン

### 1. コンテンツはみ出し (Overflow)

#### パターン1-1: CSSクリッピングによるオーバーフロー（コンテンツ下部切れ）

- **症状**: コンテンツがビューポート下部でCSSクリッピングされ視覚的に見えなくなる。スクロールバーは発生しない。
- **根本原因**: Slidev は `html`, `body`, `#app`, `#page-root` すべてに `overflow: hidden` を設定。スクロールバーが生成されないため、`scrollHeight > clientHeight` が従来は常に `false` だった。
- **検出方法**: `.slidev-page` の `scrollHeight` と `window.innerHeight` を比較（10px トレランス）
- **検出回数**: 1
- **最終検出日**: 2026-02-05
- **検出例**: スライド22（R2 - Redistribution）- カード3枚＋臨床的意義ボックスのスペーシング過大
- **解決策**（段階的に試行）:
  1. スペーシング縮小（`mt-6`→`mt-3`, `p-5`→`p-3`, `space-y-4`→`space-y-2` 等）
  2. フォントサイズ縮小（Step 1で不十分な場合のみ）
  3. スライド分割（最終手段）
- **参照**: slide-test SKILL.md Phase 6
- **自動修正**: 可能（段階的修正）

#### パターン1-1b: リスト項目過多によるオーバーフロー

- **症状**: 5項目以上のリストがビューポート下部にはみ出す
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - スペーシング縮小を先に試す
  - 4項目以内に要約
  - 2スライドに分割
- **参照**: layout-fix SKILL.md
- **自動修正**: 可能（段階的修正→スライド分割）

#### パターン1-2: 長文テキストオーバーフロー

- **症状**: 300文字超のテキストブロックがはみ出す
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - 箇条書きに変換
  - 複数スライドに分割
  - テキストを要約
- **自動修正**: 部分的（分割は可能、要約は手動）

#### パターン1-3: 画像サイズ過大

- **症状**: 画像が大きすぎてビューポート外にはみ出す
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - 画像サイズを明示的に指定
  - two-cols レイアウトに変更
  - image-right/image-left レイアウトを使用
- **自動修正**: 可能（レイアウト変更）

---

### 2. コンソールエラー (Console Errors)

#### パターン2-1: 画像読み込みエラー (404)

- **症状**: 画像ファイルが見つからない (404 Not Found)
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - 相対パスを確認（`./images/` から始まるか）
  - `public/` ディレクトリに画像があるか確認
  - ファイル名の大文字小文字を確認
- **自動修正**: 不可（手動でパス修正または画像配置が必要）

#### パターン2-2: Vue コンポーネントエラー

- **症状**: Vue.js の警告またはエラー
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - コンポーネント名のスペルを確認
  - インポート漏れを確認
  - props の型を確認
- **自動修正**: 不可（コンテキストに依存）

#### パターン2-3: MDI アイコン不在 (Icon Not Found)

- **症状**: `<mdi-xxx>` コンポーネントが存在しないアイコンを参照し、Vite エラーオーバーレイが表示される
- **検出回数**: 1
- **最終検出日**: 2026-02-05
- **検出例**: `<mdi-cancer>` → `Icon 'mdi/cancer' not found`
- **解決策**:
  - MDI アイコンセット (https://pictogrammers.com/library/mdi/) でアイコン名を確認
  - 存在するアイコンに置き換え（例: `mdi-cancer` → `mdi-biohazard`）
  - `node_modules/@iconify-json/mdi/` でアイコンの存在を確認
- **影響**: エラーのあるスライドだけでなく前後のスライドにも Vite オーバーレイが波及
- **自動修正**: 部分的（類似アイコンへの置換は可能、意味的な判断が必要）

#### パターン2-4: フォント読み込みエラー

- **症状**: カスタムフォントの読み込み失敗
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - フォントパスを確認
  - フォントファイルの存在を確認
  - CSSの `@font-face` 宣言を確認
- **自動修正**: 不可

---

### 3. レイアウト崩れ (Layout Issues)

#### パターン3-1: タイトル間隔不足

- **症状**: タイトルと本文の間に適切な間隔がない
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - `***` (水平線) を追加
  - `<div class="mt-5"></div>` を追加
- **参照**: style-guide.md
- **自動修正**: 可能

#### パターン3-2: フォントサイズ不足

- **症状**: 本文が28pt未満で読みづらい
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - `text-xl` または `text-2xl` クラスを追加
  - Tailwind CSS のフォントサイズクラスを使用
- **自動修正**: 可能

#### パターン3-3: 不適切なレイアウト選択

- **症状**: コンテンツとレイアウトの不一致
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - `format/layout-patterns.md` から適切なパターンを選択
  - 画像＋テキストなら `two-cols` または `image-right`
  - リストのみなら `default` または `bullets`
- **自動修正**: 部分的

---

### 4. スクロールバー発生 (Scrollbar)

#### パターン4-1: 縦スクロールバー

- **症状**: コンテンツがビューポートの高さを超える
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - コンテンツ量を削減
  - フォントサイズを小さく
  - 複数スライドに分割
- **自動修正**: 部分的（分割は可能）

#### パターン4-2: 横スクロールバー

- **症状**: コンテンツがビューポートの幅を超える
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - 画像サイズを調整
  - テーブルをスクロール可能にする
  - コード行を折り返す
- **自動修正**: 不可（コンテンツに依存）

---

### 5. アクセシビリティ警告 (Accessibility)

#### パターン5-1: 画像の alt 属性欠如

- **症状**: 画像に代替テキストがない
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - `![代替テキスト](./path/to/image.png)` 形式で記述
- **自動修正**: 不可（意味的な記述が必要）

#### パターン5-2: コントラスト比不足

- **症状**: テキストと背景のコントラストが低い
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - テキスト色を濃くする
  - 背景色を薄くする
  - WCAG 2.0 AA 基準 (4.5:1) を満たす
- **自動修正**: 不可

---

## 統計

### エラータイプ別検出数

| エラータイプ | 検出数 | 自動修正率 |
|-------------|--------|-----------|
| overflow (CSS clipping) | 1 | 100% |
| console_error | 1 | 100% |
| layout | 0 | - |
| scrollbar | 0 | - |
| accessibility | 0 | - |

### 月別検出数

| 月 | 検出数 | 修正数 |
|----|--------|--------|
| 2026-02 | 2 | 2 |

---

## 検出履歴

最新10件の検出記録:

| 日時 | ファイル | スライド番号 | エラータイプ | 修正状況 |
|-----|---------|-------------|-------------|----------|
| 2026-02-05 | slides.md | 22 | overflow (CSS clipping) | Fixed → スペーシング縮小 |
| 2026-02-05 | slides.md | 17 | icon_not_found (mdi-cancer) | Fixed → mdi-biohazard |

---

## 使用方法

### エラーパターンの参照

スライド作成時、このカタログを参照して一般的なエラーを事前に回避できます。

### カタログの更新

`/slide-test` スキルが実行されるたびに、検出されたエラーがこのカタログに自動追加されます。

### 手動更新

新しいエラーパターンを発見した場合、以下の形式で追加してください:

```markdown
#### パターンX-X: [パターン名]

- **症状**: [どのような問題が発生するか]
- **検出回数**: 0
- **最終検出日**: -
- **解決策**:
  - [解決策1]
  - [解決策2]
- **自動修正**: [可能/不可/部分的]
```

---

## 関連ドキュメント

- `.claude/skills/slide-test/SKILL.md`: テストスキルの詳細
- `.claude/skills/layout-fix/SKILL.md`: レイアウト修正スキル
- `.claude/docs/style-guide.md`: スタイルガイド
- `.claude/format/layout-patterns.md`: レイアウトパターン集
